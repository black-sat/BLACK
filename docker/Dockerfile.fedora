ARG VERSION=40
FROM fedora:$VERSION
RUN echo 'fastestmirror=1' >> /etc/dnf/dnf.conf
RUN yum update -y
RUN yum install -y make cmake gcc gcc-c++ \
                   fmt-devel catch-devel git \
                   z3-devel cvc5-devel \
                   python3


RUN git clone https://github.com/arximboldi/immer.git
WORKDIR /immer/build
RUN cmake ..
RUN make install

ENTRYPOINT ["/usr/bin/env", "--"]
