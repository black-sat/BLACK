ARG VERSION=32
FROM fedora:$VERSION
RUN yum update -y
RUN yum install -y make cmake gcc gcc-c++
RUN yum install -y gmp-devel zlib-devel z3-devel
RUN yum install -y git wget findutils

RUN git clone https://github.com/msoos/cryptominisat.git /cmsat
WORKDIR /cmsat
RUN git checkout 6477e8bc43b0fda7038965bb148b64b8637c804b

WORKDIR /cmsat/build
RUN cmake ..
RUN make
RUN make install

ENTRYPOINT ["/usr/bin/env", "--"]
